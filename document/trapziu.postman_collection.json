{
	"info": {
		"_postman_id": "",
		"name": "trapziu",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": ""
	},
	"item": [
		{
			"name": "Users router",
			"item": [
				{
					"name": "Fetch user",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const res = pm.response.json()",
									"if (res.user.username) {",
									"    postman.setEnvironmentVariable(\"username\", res.user.username);",
									"}",
									"if (res.user.token) {",
									"    postman.setEnvironmentVariable(\"token\", res.user.token);",
									"}",
									"pm.environment.set(\"time\", new Date().toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Trapziu_backend_api}}/users",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Login user",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const res = pm.response.json()",
									"if (res.user.email) {",
									"    postman.setEnvironmentVariable(\"email\", res.user.email);",
									"",
									"}",
									"if (res.user.username) {",
									"    postman.setEnvironmentVariable(\"username\", res.user.username);",
									"}",
									"if (res.user.token) {",
									"    postman.setEnvironmentVariable(\"token\", res.user.token);",
									"}",
									"pm.environment.set(\"time\", new Date().toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user\": {\n        \"email\": \"test@test.com\",\n        \"password\": \"test\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Trapziu_backend_api}}/users",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update user",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const res = pm.response.json()",
									"if (res.user.username) {",
									"    postman.setEnvironmentVariable(\"username\", res.user.username);",
									"}",
									"if (res.user.token) {",
									"    postman.setEnvironmentVariable(\"token\", res.user.token);",
									"}",
									"pm.environment.set(\"time\", new Date().toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user\":{\n        \"intro\":\"Test update on intro\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Trapziu_backend_api}}/users",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create user",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const res = pm.response.json()",
									"if (res.user.username) {",
									"    postman.setEnvironmentVariable(\"username\", res.user.username);",
									"}",
									"if (res.user.token) {",
									"    postman.setEnvironmentVariable(\"token\", res.user.token);",
									"}",
									"pm.environment.set(\"time\", new Date().toISOString());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"user\": {\n        \"email\": \"test@test.com\",\n        \"username\": \"test\",\n        \"password\": \"test\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Trapziu_backend_api}}/users/create",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"users",
								"create"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Profiles router",
			"item": [
				{
					"name": "Get profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{Trapziu_backend_api}}/profiles/:username",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"profiles",
								":username"
							],
							"variable": [
								{
									"key": "username",
									"value": "test"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Follow profile",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{Trapziu_backend_api}}/profiles/:username/follow",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"profiles",
								":username",
								"follow"
							],
							"variable": [
								{
									"key": "username",
									"value": "test"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Unfollow profile",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{Trapziu_backend_api}}/profiles/:username/follow",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"profiles",
								":username",
								"follow"
							],
							"variable": [
								{
									"key": "username",
									"value": "test"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Block profile",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{Trapziu_backend_api}}/profiles/:username/block",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"profiles",
								":username",
								"block"
							],
							"variable": [
								{
									"key": "username",
									"value": "test"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Unblock profile",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{Trapziu_backend_api}}/profiles/:username/block",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"profiles",
								":username",
								"block"
							],
							"variable": [
								{
									"key": "username",
									"value": "test"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Posts router",
			"item": [
				{
					"name": "Get posts",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{Trapziu_backend_api}}/posts?author=test&liked=true&limit=10&offset=0",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"posts"
							],
							"query": [
								{
									"key": "author",
									"value": "test"
								},
								{
									"key": "liked",
									"value": "true"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "offset",
									"value": "0"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get post",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{Trapziu_backend_api}}/posts/:post_id",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"posts",
								":post_id"
							],
							"variable": [
								{
									"key": "post_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create post",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"post\":{\n        \"title\": \"title@test\",\n        \"description\": \"description@test\",\n        \"content\": \"content@test\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Trapziu_backend_api}}/posts",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"posts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update post",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"post\":{\n        \"title\": \"update@title\",\n        \"description\": \"update@description\",\n        \"content\": \"update@content\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{host}}:{{port}}/api/posts/:post_id",
							"host": [
								"{{host}}"
							],
							"port": "{{port}}",
							"path": [
								"api",
								"posts",
								":post_id"
							],
							"variable": [
								{
									"key": "post_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete post",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{Trapziu_backend_api}}/posts/:post_id",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"posts",
								":post_id"
							],
							"variable": [
								{
									"key": "post_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Like post",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{Trapziu_backend_api}}/posts/:post_id/like",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"posts",
								":post_id",
								"like"
							],
							"variable": [
								{
									"key": "post_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Unlike post",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{Trapziu_backend_api}}/posts/:post_id/like",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"posts",
								":post_id",
								"like"
							],
							"variable": [
								{
									"key": "post_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get comments",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{Trapziu_backend_api}}/posts/:post_id/comments",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"posts",
								":post_id",
								"comments"
							],
							"variable": [
								{
									"key": "post_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Create comment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"comment\":{\n        \"content\": \"test from commenter\"\n    }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{Trapziu_backend_api}}/posts/:post_id/comments",
							"host": [
								"{{Trapziu_backend_api}}"
							],
							"path": [
								"posts",
								":post_id",
								"comments"
							],
							"variable": [
								{
									"key": "post_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete comment",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{host}}:{{port}}/api/posts/:post_id/comments/:comment_id",
							"host": [
								"{{host}}"
							],
							"port": "{{port}}",
							"path": [
								"api",
								"posts",
								":post_id",
								"comments",
								":comment_id"
							],
							"variable": [
								{
									"key": "post_id",
									"value": "1"
								},
								{
									"key": "comment_id",
									"value": "1"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Root",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "127.0.0.1:8000",
					"host": [
						"127",
						"0",
						"0",
						"1"
					],
					"port": "8000"
				}
			},
			"response": []
		}
	]
}